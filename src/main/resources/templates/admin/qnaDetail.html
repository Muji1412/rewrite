<link rel="stylesheet" href="/css/qna/qnaDetail.css" th:href="@{/css/qna/qnaDetail.css}">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
<th:block th:replace="~{/include/include :: def(~{::#wrap})}">
    <div id="pop">
        <div id="pop_box">
            <div class="pop_content">
                <div class="answer-section">
                    <h3>답변하기</h3>
                    <form th:action="@{/admin/saveAnswer}" method="post">
                        <input type="hidden" name="qnaId" th:value="${qna.qnaId}"/>
                        <div class="form-group">
                            <textarea class="form-control" name="answer" rows="5" th:text="${qna.answer != 'n' ? qna.answer : ''}"></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary">답변 저장</button>
                    </form>
                </div>

            </div>
        </div>
    </div>
    <section class="section" id="wrap">
        <div class="container notice-detail-container">
            <div class="page-title">
                <h2 class="title_left">1:1 문의 상세</h2>
                <button type="button" class="title_right">답변하기</button>
            </div>

            <div class="detail-section">
                <div class="detail-label">제목</div>
                <div class="detail-content subject-content" th:text="${qna.title}">제목 예시</div>
            </div>

            <div class="detail-section">
                <div class="detail-label">문의내용</div>
                <div class="detail-content main-content">
                    <p th:text="${qna.content}"></p>
                </div>
            </div>

            <div class="detail-section" th:if="${qna.answer != null}">
                <div class="detail-label">답변</div>
                <div class="detail-content main-content">
                    <p th:text="${qna.answer}"></p>
                </div>
            </div>

            <div class="detail-section">
                <div class="detail-label">첨부파일</div>
                <div class="detail-content sub-content">
                    <p th:text="${qna.fileAttachment}"></p>
                </div>
            </div>

            <div class="button-container">
                <a href="/admin/qnaList" th:href="@{/admin/qnaList}" class="list-button">목록으로</a>
            </div>
        </div>
    </section>
    <script>
        // 모달 열기 함수
        function open(){
            $('#pop').css({"display":"block"});
            // $('#semi_wrap').css({"position":"sticky"});
            // $('section').css({"margin-top":"0"});
        }

        // 모달 닫기 함수
        function close(){
            $('#pop').css({"display":"none"});
            // $('#semi_wrap').css({"position":"fixed"});
            // $('section').css({"margin-top":"101px"});
        }

        // 이벤트 리스너 연결
        $(".title_right").on("click", open);
        $("#close").on("click", close);
    </script>
    </body>
</th:block>
<script src="../../js/QnaDetail.js" th:src="@{/js/QnaDetail.js}"></script>
